
<div class="row">
    <div class="col-xs-12 col-sm-9 col-md-9 col-lg-9">
        <h1 class="page-title txt-color-blueDark">

            <!-- PAGE HEADER -->
            <i class="fa-fw fa fa-pencil-square-o"></i>
            Permission
        </h1>
    </div>

    <div class="col-xs-12 col-sm-3 col-md-3 col-lg-3">
        <!-- Button trigger modal -->
        <a href="#{{toggle}}" ng-if="toggleVisible > 1" class="btn btn-success btn-md pull-right header-btn hidden-mobile">Toggle</a>
    </div>

    <!--<form method="post" action="permissions">-->
        <!--<input name="_token" value="{{ token }}">-->
        <!--<input name="name">-->
        <!--<input name="description">-->
        <!--<input type="submit">-->
    <!--</form>-->
</div>

<div id="successMessage1" class="alert alert-block alert-success" hidden>
    <a class="close" data-dismiss="alert" href="/#createRole">×</a>
    <h4 class="alert-heading"><i class="fa fa-check-square-o"></i> Success!</h4>
    <p>
        Permission updated successfully...
    </p>
</div>

<div id="deleteMessage1" class="alert alert-block alert-success" hidden>
    <a class="close" data-dismiss="alert" href="/#createRole">×</a>
    <h4 class="alert-heading"><i class="fa fa-times-circle-o"></i> Success!</h4>
    <p>
        Permission deleted successfully...
    </p>
</div>

<div id="errorMessage1" class="alert alert-block alert-danger" hidden>
    <a class="close" data-dismiss="alert" href="/#createRole">×</a>
    <h4 class="alert-heading"><i class="fa fa-check-square-o"></i> Error(s)detected</h4>
    <ul>
        <li ng-repeat="val_error in error">{{val_error}}</li>
    </ul>
</div>

<section id="widget-grid" class="">


    <!-- START ROW -->

    <div class="row">

        <!-- NEW COL START -->
        <article class="col-sm-12 col-md-12 col-lg-6">

            <div class="jarviswidget" id="wid-id-1" data-widget-editbutton="false" data-widget-custombutton="false">

                <header>
                    <span class="widget-icon"> <i class="fa fa-pencil-square-o"></i> </span>
                    <h2>Permission</h2>
                    <div id="newPermission" class="widget-toolbar " hidden>
                        <a href="" ng-click="activateNew()"><span class="onoffswitch-title"><i class="fa fa-plus"></i> New</span></a>
                    </div>
                </header>

                <!-- widget div-->
                <div>

                    <div id="successMessage" hidden ></div>
                    <div id="errorMessage" hidden >
                    <div id="errorMessageContent"></div>
                        <ul>
                            <li ng-repeat="val_error in error">{{val_error}}</li>
                        </ul>
                    </div>
                    <!-- widget edit box -->
                    <div class="jarviswidget-editbox">
                        <!-- This area used as dropdown edit box -->

                    </div>
                    <!-- end widget edit box -->

                    <!-- widget content -->
                    <div class="widget-body no-padding">

                        <div ng-if="!selectedPermissions[0]" style="padding-top: 40px; text-align: center" hidden>Nothing selected!</div>

                        <form id="frm_createPermission" name="frm_createRole" class="smart-form" ng-submit="createPermission(perm)">

                            <fieldset>
                                <div class="row">
                                    <section class="col col-6">
                                        <label class="label">Permission name:</label>
                                        <label class="input"> <i class="icon-prepend fa fa-circle-o"></i>
                                            <input id="name" autocomplete="off" type="text"  name="name" ng-model="perm.name">
                                        </label>
                                    </section>
                                </div>
                                <div class="row">
                                    <section class="col col-lg-12">
                                        <label class="label">Permission description:</label>
                                        <label class="input"> <i class="icon-prepend fa fa-circle-o"></i>
                                            <input autocomplete="off" type="text"  name="description" ng-model="perm.description">
                                        </label>
                                    </section>
                                </div>
                            </fieldset>

                            <footer>
                                <button type="submit" class="btn btn-primary">
                                    Create
                                </button>
                            </footer>
                        </form>

                        <form ng-if="selectedPermissions[0]"  id="frm_viewPermission" name="frm_createRole" class="smart-form" ng-submit="editPermission(selectedPermissions[0])">
                            <input id="id" autocomplete="off" type="hidden"  name="name" ng-model="selectedPermissions[0].id">
                            <fieldset>
                                <div class="row">
                                    <section class="col col-6">
                                        <label class="label">Permission name:</label>
                                        <label class="input"> <i class="icon-prepend fa fa-circle-o"></i>
                                            <input id="name" autocomplete="off" type="text"  name="name" ng-model="selectedPermissions[0].name">
                                        </label>
                                    </section>
                                </div>
                                <div class="row">
                                    <section class="col col-lg-12">
                                        <label class="label">Permission description:</label>
                                        <label class="input"> <i class="icon-prepend fa fa-circle-o"></i>
                                            <input autocomplete="off" type="text"  name="description" ng-model="selectedPermissions[0].description">
                                        </label>
                                    </section>
                                </div>
                            </fieldset>
                            <div id="warningMessage" hidden ></div>

                            <footer>
                                <button type="submit" class="btn btn-primary">
                                    Update
                                </button>
                                <span id="deleteRole">
                                    <a class="btn btn-danger" ng-click="confirmDelete()">Delete</a>
                                </span>
                                <span hidden id="deleteRoleConfirm">
                                    <a class="btn btn-warning" ng-click="cancelDelete()" hidden>Cancel</a>
                                    <a class="btn btn-danger" ng-click="deletePermission(selectedPermissions[0].id)" hidden>Confirm Delete</a>
                                </span>
                            </footer>
                        </form>
                    </div>
                    <!-- end widget content -->

                </div>
                <!-- end widget div -->

            </div>
            <!-- end widget -->



        </article>
        <!-- END COL -->

        <!-- NEW COL START -->
        <article class="col-sm-12 col-md-12 col-lg-6">

            <div class="jarviswidget" id="wid-id-4" data-widget-editbutton="false" data-widget-custombutton="false">
                <header>
                    <span class="widget-icon"> <i class="fa fa-list"></i> </span>
                    <h2>All Permissions</h2>

                </header>

                <!-- widget div-->
                <div style="max-height: 650px; overflow: auto">

                    <!-- widget content -->
                    <div class="widget-body ">

                        <div class="jarviswidget " id="wid-id-0" data-widget-editbutton="false">

                            <div>

                                <!-- widget edit box -->
                                <div class="jarviswidget-editbox">
                                    <!-- This area used as dropdown edit box -->

                                </div>
                                <!-- end widget edit box -->

                                <!-- widget content -->
                                <div class="widget-body no-padding">

                                    <table id="dt_basic" class="table table-striped table-bordered table-hover" width="100%">
                                        <!--<table datatable="ng" dt-options="dtOptions">-->
                                        <thead>
                                        <tr>
                                            <th>Permission</th>
                                            <th>Description</th>
                                            <th>Actions</th>
                                        </tr>
                                        </thead>
                                        <tbody>
                                        <tr ng-repeat="permission in allPermissions">
                                            <td>{{permission.name}}</td>
                                            <td>{{permission.description}}</td>
                                            <td style="text-align: center"><a href="" ng-click="loadPermissionView(permission.id)"><i class="fa fa-lg fa-search-plus"></i></a></td>
                                        </tr>
                                        </tbody>
                                    </table>

                                </div>
                                <!-- end widget content -->

                            </div>
                            <!-- end widget div -->

                        </div>
                    </div>
                    <!-- end widget content -->

                </div>
                <!-- end widget div -->

            </div>
            <!-- end widget -->

        </article>
        <!-- END COL -->

    </div>

    <!-- END ROW -->

</section>

<!-- MAIN CONTENT -->





